<!DOCTYPE html>
<HTML lang = "en">
<HEAD>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Bayesian Neural Networks</title>
  

  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
      TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
  </script>

  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>

  
<style>
pre.hljl {
    border: 1px solid #ccc;
    margin: 5px;
    padding: 5px;
    overflow-x: auto;
    color: rgb(68,68,68); background-color: rgb(251,251,251); }
pre.hljl > span.hljl-t { }
pre.hljl > span.hljl-w { }
pre.hljl > span.hljl-e { }
pre.hljl > span.hljl-eB { }
pre.hljl > span.hljl-o { }
pre.hljl > span.hljl-k { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kc { color: rgb(59,151,46); font-style: italic; }
pre.hljl > span.hljl-kd { color: rgb(214,102,97); font-style: italic; }
pre.hljl > span.hljl-kn { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kp { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kr { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-kt { color: rgb(148,91,176); font-weight: bold; }
pre.hljl > span.hljl-n { }
pre.hljl > span.hljl-na { }
pre.hljl > span.hljl-nb { }
pre.hljl > span.hljl-nbp { }
pre.hljl > span.hljl-nc { }
pre.hljl > span.hljl-ncB { }
pre.hljl > span.hljl-nd { color: rgb(214,102,97); }
pre.hljl > span.hljl-ne { }
pre.hljl > span.hljl-neB { }
pre.hljl > span.hljl-nf { color: rgb(66,102,213); }
pre.hljl > span.hljl-nfm { color: rgb(66,102,213); }
pre.hljl > span.hljl-np { }
pre.hljl > span.hljl-nl { }
pre.hljl > span.hljl-nn { }
pre.hljl > span.hljl-no { }
pre.hljl > span.hljl-nt { }
pre.hljl > span.hljl-nv { }
pre.hljl > span.hljl-nvc { }
pre.hljl > span.hljl-nvg { }
pre.hljl > span.hljl-nvi { }
pre.hljl > span.hljl-nvm { }
pre.hljl > span.hljl-l { }
pre.hljl > span.hljl-ld { color: rgb(148,91,176); font-style: italic; }
pre.hljl > span.hljl-s { color: rgb(201,61,57); }
pre.hljl > span.hljl-sa { color: rgb(201,61,57); }
pre.hljl > span.hljl-sb { color: rgb(201,61,57); }
pre.hljl > span.hljl-sc { color: rgb(201,61,57); }
pre.hljl > span.hljl-sd { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdB { color: rgb(201,61,57); }
pre.hljl > span.hljl-sdC { color: rgb(201,61,57); }
pre.hljl > span.hljl-se { color: rgb(59,151,46); }
pre.hljl > span.hljl-sh { color: rgb(201,61,57); }
pre.hljl > span.hljl-si { }
pre.hljl > span.hljl-so { color: rgb(201,61,57); }
pre.hljl > span.hljl-sr { color: rgb(201,61,57); }
pre.hljl > span.hljl-ss { color: rgb(201,61,57); }
pre.hljl > span.hljl-ssB { color: rgb(201,61,57); }
pre.hljl > span.hljl-nB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nbB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nfB { color: rgb(59,151,46); }
pre.hljl > span.hljl-nh { color: rgb(59,151,46); }
pre.hljl > span.hljl-ni { color: rgb(59,151,46); }
pre.hljl > span.hljl-nil { color: rgb(59,151,46); }
pre.hljl > span.hljl-noB { color: rgb(59,151,46); }
pre.hljl > span.hljl-oB { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-ow { color: rgb(102,102,102); font-weight: bold; }
pre.hljl > span.hljl-p { }
pre.hljl > span.hljl-c { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-ch { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cm { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cp { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cpB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-cs { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-csB { color: rgb(153,153,119); font-style: italic; }
pre.hljl > span.hljl-g { }
pre.hljl > span.hljl-gd { }
pre.hljl > span.hljl-ge { }
pre.hljl > span.hljl-geB { }
pre.hljl > span.hljl-gh { }
pre.hljl > span.hljl-gi { }
pre.hljl > span.hljl-go { }
pre.hljl > span.hljl-gp { }
pre.hljl > span.hljl-gs { }
pre.hljl > span.hljl-gsB { }
pre.hljl > span.hljl-gt { }
</style>



  <style type="text/css">
  @font-face {
  font-style: normal;
  font-weight: 300;
}
@font-face {
  font-style: normal;
  font-weight: 400;
}
@font-face {
  font-style: normal;
  font-weight: 600;
}
html {
  font-family: sans-serif; /* 1 */
  -ms-text-size-adjust: 100%; /* 2 */
  -webkit-text-size-adjust: 100%; /* 2 */
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block; /* 1 */
  vertical-align: baseline; /* 2 */
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
  display: block;
  margin-left: auto;
  margin-right: auto;
  width: 70%;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit; /* 1 */
  font: inherit; /* 2 */
  margin: 0; /* 3 */
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button; /* 2 */
  cursor: pointer; /* 3 */
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box; /* 1 */
  padding: 0; /* 2 */
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield; /* 1 */
  -moz-box-sizing: content-box;
  -webkit-box-sizing: content-box; /* 2 */
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0; /* 1 */
  padding: 0; /* 2 */
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  font-family: monospace, monospace;
  font-size : 0.8em;
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
thead th {
    border-bottom: 1px solid black;
    background-color: white;
}
tr:nth-child(odd){
  background-color: rgb(248,248,248);
}


/*
* Skeleton V2.0.4
* Copyright 2014, Dave Gamache
* www.getskeleton.com
* Free to use under the MIT license.
* http://www.opensource.org/licenses/mit-license.php
* 12/29/2014
*/
.container {
  position: relative;
  width: 100%;
  max-width: 960px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box; }
.column,
.columns {
  width: 100%;
  float: left;
  box-sizing: border-box; }
@media (min-width: 400px) {
  .container {
    width: 85%;
    padding: 0; }
}
@media (min-width: 550px) {
  .container {
    width: 80%; }
  .column,
  .columns {
    margin-left: 4%; }
  .column:first-child,
  .columns:first-child {
    margin-left: 0; }

  .one.column,
  .one.columns                    { width: 4.66666666667%; }
  .two.columns                    { width: 13.3333333333%; }
  .three.columns                  { width: 22%;            }
  .four.columns                   { width: 30.6666666667%; }
  .five.columns                   { width: 39.3333333333%; }
  .six.columns                    { width: 48%;            }
  .seven.columns                  { width: 56.6666666667%; }
  .eight.columns                  { width: 65.3333333333%; }
  .nine.columns                   { width: 74.0%;          }
  .ten.columns                    { width: 82.6666666667%; }
  .eleven.columns                 { width: 91.3333333333%; }
  .twelve.columns                 { width: 100%; margin-left: 0; }

  .one-third.column               { width: 30.6666666667%; }
  .two-thirds.column              { width: 65.3333333333%; }

  .one-half.column                { width: 48%; }

  /* Offsets */
  .offset-by-one.column,
  .offset-by-one.columns          { margin-left: 8.66666666667%; }
  .offset-by-two.column,
  .offset-by-two.columns          { margin-left: 17.3333333333%; }
  .offset-by-three.column,
  .offset-by-three.columns        { margin-left: 26%;            }
  .offset-by-four.column,
  .offset-by-four.columns         { margin-left: 34.6666666667%; }
  .offset-by-five.column,
  .offset-by-five.columns         { margin-left: 43.3333333333%; }
  .offset-by-six.column,
  .offset-by-six.columns          { margin-left: 52%;            }
  .offset-by-seven.column,
  .offset-by-seven.columns        { margin-left: 60.6666666667%; }
  .offset-by-eight.column,
  .offset-by-eight.columns        { margin-left: 69.3333333333%; }
  .offset-by-nine.column,
  .offset-by-nine.columns         { margin-left: 78.0%;          }
  .offset-by-ten.column,
  .offset-by-ten.columns          { margin-left: 86.6666666667%; }
  .offset-by-eleven.column,
  .offset-by-eleven.columns       { margin-left: 95.3333333333%; }

  .offset-by-one-third.column,
  .offset-by-one-third.columns    { margin-left: 34.6666666667%; }
  .offset-by-two-thirds.column,
  .offset-by-two-thirds.columns   { margin-left: 69.3333333333%; }

  .offset-by-one-half.column,
  .offset-by-one-half.columns     { margin-left: 52%; }

}
html {
  font-size: 62.5%; }
body {
  font-size: 1.5em; /* currently ems cause chrome bug misinterpreting rems on body element */
  line-height: 1.6;
  font-weight: 400;
  font-family: "Raleway", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #222; }
h1, h2, h3, h4, h5, h6 {
  margin-top: 0;
  margin-bottom: 2rem;
  font-weight: 300; }
h1 { font-size: 3.6rem; line-height: 1.2;  letter-spacing: -.1rem;}
h2 { font-size: 3.4rem; line-height: 1.25; letter-spacing: -.1rem; }
h3 { font-size: 3.2rem; line-height: 1.3;  letter-spacing: -.1rem; }
h4 { font-size: 2.8rem; line-height: 1.35; letter-spacing: -.08rem; }
h5 { font-size: 2.4rem; line-height: 1.5;  letter-spacing: -.05rem; }
h6 { font-size: 1.5rem; line-height: 1.6;  letter-spacing: 0; }

p {
  margin-top: 0; }
a {
  color: #1EAEDB; }
a:hover {
  color: #0FA0CE; }
.button,
button,
input[type="submit"],
input[type="reset"],
input[type="button"] {
  display: inline-block;
  height: 38px;
  padding: 0 30px;
  color: #555;
  text-align: center;
  font-size: 11px;
  font-weight: 600;
  line-height: 38px;
  letter-spacing: .1rem;
  text-transform: uppercase;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border-radius: 4px;
  border: 1px solid #bbb;
  cursor: pointer;
  box-sizing: border-box; }
.button:hover,
button:hover,
input[type="submit"]:hover,
input[type="reset"]:hover,
input[type="button"]:hover,
.button:focus,
button:focus,
input[type="submit"]:focus,
input[type="reset"]:focus,
input[type="button"]:focus {
  color: #333;
  border-color: #888;
  outline: 0; }
.button.button-primary,
button.button-primary,
input[type="submit"].button-primary,
input[type="reset"].button-primary,
input[type="button"].button-primary {
  color: #FFF;
  background-color: #33C3F0;
  border-color: #33C3F0; }
.button.button-primary:hover,
button.button-primary:hover,
input[type="submit"].button-primary:hover,
input[type="reset"].button-primary:hover,
input[type="button"].button-primary:hover,
.button.button-primary:focus,
button.button-primary:focus,
input[type="submit"].button-primary:focus,
input[type="reset"].button-primary:focus,
input[type="button"].button-primary:focus {
  color: #FFF;
  background-color: #1EAEDB;
  border-color: #1EAEDB; }
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea,
select {
  height: 38px;
  padding: 6px 10px; /* The 6px vertically centers text on FF, ignored by Webkit */
  background-color: #fff;
  border: 1px solid #D1D1D1;
  border-radius: 4px;
  box-shadow: none;
  box-sizing: border-box; }
/* Removes awkward default styles on some inputs for iOS */
input[type="email"],
input[type="number"],
input[type="search"],
input[type="text"],
input[type="tel"],
input[type="url"],
input[type="password"],
textarea {
  -webkit-appearance: none;
     -moz-appearance: none;
          appearance: none; }
textarea {
  min-height: 65px;
  padding-top: 6px;
  padding-bottom: 6px; }
input[type="email"]:focus,
input[type="number"]:focus,
input[type="search"]:focus,
input[type="text"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
textarea:focus,
select:focus {
  border: 1px solid #33C3F0;
  outline: 0; }
label,
legend {
  display: block;
  margin-bottom: .5rem;
  font-weight: 600; }
fieldset {
  padding: 0;
  border-width: 0; }
input[type="checkbox"],
input[type="radio"] {
  display: inline; }
label > .label-body {
  display: inline-block;
  margin-left: .5rem;
  font-weight: normal; }
ul {
  list-style: circle; }
ol {
  list-style: decimal; }
ul ul,
ul ol,
ol ol,
ol ul {
  margin: 1.5rem 0 1.5rem 3rem;
  font-size: 90%; }
li > p {margin : 0;}
th,
td {
  padding: 12px 15px;
  text-align: left;
  border-bottom: 1px solid #E1E1E1; }
th:first-child,
td:first-child {
  padding-left: 0; }
th:last-child,
td:last-child {
  padding-right: 0; }
button,
.button {
  margin-bottom: 1rem; }
input,
textarea,
select,
fieldset {
  margin-bottom: 1.5rem; }
pre,
blockquote,
dl,
figure,
table,
p,
ul,
ol,
form {
  margin-bottom: 1.0rem; }
.u-full-width {
  width: 100%;
  box-sizing: border-box; }
.u-max-full-width {
  max-width: 100%;
  box-sizing: border-box; }
.u-pull-right {
  float: right; }
.u-pull-left {
  float: left; }
hr {
  margin-top: 3rem;
  margin-bottom: 3.5rem;
  border-width: 0;
  border-top: 1px solid #E1E1E1; }
.container:after,
.row:after,
.u-cf {
  content: "";
  display: table;
  clear: both; }

pre {
  display: block;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre.hljl {
  margin: 0 0 10px;
  display: block;
  background: #f5f5f5;
  border-radius: 4px;
  padding : 5px;
}

pre.output {
  background: #ffffff;
}

pre.code {
  background: #ffffff;
}

pre.julia-error {
  color : red
}

code,
kbd,
pre,
samp {
  font-family: Menlo, Monaco, Consolas, "Courier New", monospace;
  font-size: 13px;
}


@media (min-width: 400px) {}
@media (min-width: 550px) {}
@media (min-width: 750px) {}
@media (min-width: 1000px) {}
@media (min-width: 1200px) {}

h1.title {margin-top : 20px}
img {max-width : 100%}
div.title {text-align: center;}

  </style>
</HEAD>

<BODY>
  <div class ="container">
    <div class = "row">
      <div class = "col-md-12 twelve columns">
        <div class="title">
          <h1 class="title">Bayesian Neural Networks</h1>
          
          
        </div>

        <p>In this tutorial, we demonstrate how one can implement a Bayesian Neural Network using a combination of Turing and <a href="https://github.com/FluxML/Flux.jl">Flux</a>, a suite of tools machine learning. We will use Flux to specify the neural network&#39;s layers and Turing to implement the probabalistic inference, with the goal of implementing a classification algorithm.</p>
<p>We will begin with importing the relevant libraries.</p>


<pre class='hljl'>
<span class='hljl-cs'># Import libraries.</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Turing</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Flux</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Plots</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Random</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>ReverseDiff</span><span class='hljl-t'>

</span><span class='hljl-cs'># Hide sampling progress.</span><span class='hljl-t'>
</span><span class='hljl-n'>Turing</span><span class='hljl-oB'>.</span><span class='hljl-nf'>setprogress!</span><span class='hljl-p'>(</span><span class='hljl-kc'>false</span><span class='hljl-p'>);</span><span class='hljl-t'>

</span><span class='hljl-cs'># Use reverse_diff due to the number of parameters in neural networks.</span><span class='hljl-t'>
</span><span class='hljl-n'>Turing</span><span class='hljl-oB'>.</span><span class='hljl-nf'>setadbackend</span><span class='hljl-p'>(</span><span class='hljl-sc'>:reversediff</span><span class='hljl-p'>)</span>
</pre>


<pre class="output">
:reversediff
</pre>


<p>Our goal here is to use a Bayesian neural network to classify points in an artificial dataset. The code below generates data points arranged in a box-like pattern and displays a graph of the dataset we&#39;ll be working with.</p>


<pre class='hljl'>
<span class='hljl-cs'># Number of points to generate.</span><span class='hljl-t'>
</span><span class='hljl-n'>N</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>80</span><span class='hljl-t'>
</span><span class='hljl-n'>M</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>round</span><span class='hljl-p'>(</span><span class='hljl-n'>Int</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>N</span><span class='hljl-t'> </span><span class='hljl-oB'>/</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>Random</span><span class='hljl-oB'>.</span><span class='hljl-nf'>seed!</span><span class='hljl-p'>(</span><span class='hljl-ni'>1234</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># Generate artificial data.</span><span class='hljl-t'>
</span><span class='hljl-n'>x1s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> 
</span><span class='hljl-n'>xt1s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Array</span><span class='hljl-p'>([[</span><span class='hljl-n'>x1s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.5</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>M</span><span class='hljl-p'>])</span><span class='hljl-t'>
</span><span class='hljl-n'>x1s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> 
</span><span class='hljl-nf'>append!</span><span class='hljl-p'>(</span><span class='hljl-n'>xt1s</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Array</span><span class='hljl-p'>([[</span><span class='hljl-n'>x1s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>M</span><span class='hljl-p'>]))</span><span class='hljl-t'>

</span><span class='hljl-n'>x1s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> 
</span><span class='hljl-n'>xt0s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Array</span><span class='hljl-p'>([[</span><span class='hljl-n'>x1s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>M</span><span class='hljl-p'>])</span><span class='hljl-t'>
</span><span class='hljl-n'>x1s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>M</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-nfB'>4.5</span><span class='hljl-p'>;</span><span class='hljl-t'> 
</span><span class='hljl-nf'>append!</span><span class='hljl-p'>(</span><span class='hljl-n'>xt0s</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Array</span><span class='hljl-p'>([[</span><span class='hljl-n'>x1s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>x2s</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.5</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>M</span><span class='hljl-p'>]))</span><span class='hljl-t'>

</span><span class='hljl-cs'># Store all the data for later.</span><span class='hljl-t'>
</span><span class='hljl-n'>xs</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-n'>xt1s</span><span class='hljl-p'>;</span><span class='hljl-t'> </span><span class='hljl-n'>xt0s</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-n'>ts</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>ones</span><span class='hljl-p'>(</span><span class='hljl-ni'>2</span><span class='hljl-oB'>*</span><span class='hljl-n'>M</span><span class='hljl-p'>);</span><span class='hljl-t'> </span><span class='hljl-nf'>zeros</span><span class='hljl-p'>(</span><span class='hljl-ni'>2</span><span class='hljl-oB'>*</span><span class='hljl-n'>M</span><span class='hljl-p'>)]</span><span class='hljl-t'>

</span><span class='hljl-cs'># Plot data points.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-n'>x1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>map</span><span class='hljl-p'>(</span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>xt1s</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>y1</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>map</span><span class='hljl-p'>(</span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>xt1s</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>x2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>map</span><span class='hljl-p'>(</span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>xt0s</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>y2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>map</span><span class='hljl-p'>(</span><span class='hljl-n'>e</span><span class='hljl-t'> </span><span class='hljl-oB'>-&gt;</span><span class='hljl-t'> </span><span class='hljl-n'>e</span><span class='hljl-p'>[</span><span class='hljl-ni'>2</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>xt0s</span><span class='hljl-p'>)</span><span class='hljl-t'>

    </span><span class='hljl-n'>Plots</span><span class='hljl-oB'>.</span><span class='hljl-nf'>scatter</span><span class='hljl-p'>(</span><span class='hljl-n'>x1</span><span class='hljl-p'>,</span><span class='hljl-n'>y1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-s'>&quot;red&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>clim</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-n'>Plots</span><span class='hljl-oB'>.</span><span class='hljl-nf'>scatter!</span><span class='hljl-p'>(</span><span class='hljl-n'>x2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>color</span><span class='hljl-oB'>=</span><span class='hljl-s'>&quot;blue&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>clim</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span>
</pre>


<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTc2IiBoZWlnaHQ9IjM4NCIgdmlld0JveD0iMCAwIDIzMDQgMTUzNiI+CjxkZWZzPgogIDxjbGlwUGF0aCBpZD0iY2xpcDIyMCI+CiAgICA8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjMwNCIgaGVpZ2h0PSIxNTM2Ii8+CiAgPC9jbGlwUGF0aD4KPC9kZWZzPgo8cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9IgpNMCAxNTM2IEwyMzA0IDE1MzYgTDIzMDQgMCBMMCAwICBaCiAgIiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIvPgo8ZGVmcz4KICA8Y2xpcFBhdGggaWQ9ImNsaXAyMjEiPgogICAgPHJlY3QgeD0iNDYwIiB5PSIwIiB3aWR0aD0iMTYxNCIgaGVpZ2h0PSIxNTM2Ii8+CiAgPC9jbGlwUGF0aD4KPC9kZWZzPgo8cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9IgpNMTQzLjIwOCAxNDIzLjA5IEwyMjU2Ljc2IDE0MjMuMDkgTDIyNTYuNzYgNDcuMjQ0MSBMMTQzLjIwOCA0Ny4yNDQxICBaCiAgIiBmaWxsPSIjZmZmZmZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIvPgo8ZGVmcz4KICA8Y2xpcFBhdGggaWQ9ImNsaXAyMjIiPgogICAgPHJlY3QgeD0iMTQzIiB5PSI0NyIgd2lkdGg9IjIxMTUiIGhlaWdodD0iMTM3NyIvPgogIDwvY2xpcFBhdGg+CjwvZGVmcz4KPHBvbHlsaW5lIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgc3R5bGU9InN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6Mjsgc3Ryb2tlLW9wYWNpdHk6MC4xOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMzgyLjM1OCwxNDIzLjA5IDM4Mi4zNTgsNDcuMjQ0MSAKICAiLz4KPHBvbHlsaW5lIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgc3R5bGU9InN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6Mjsgc3Ryb2tlLW9wYWNpdHk6MC4xOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgNzk0LjUxLDE0MjMuMDkgNzk0LjUxLDQ3LjI0NDEgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDEyMDYuNjYsMTQyMy4wOSAxMjA2LjY2LDQ3LjI0NDEgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE2MTguODEsMTQyMy4wOSAxNjE4LjgxLDQ3LjI0NDEgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDIwMzAuOTcsMTQyMy4wOSAyMDMwLjk3LDQ3LjI0NDEgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjQ7IHN0cm9rZS1vcGFjaXR5OjE7IGZpbGw6bm9uZSIgcG9pbnRzPSIKICAxNDMuMjA4LDE0MjMuMDkgMjI1Ni43NiwxNDIzLjA5IAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMzgyLjM1OCwxNDIzLjA5IDM4Mi4zNTgsMTQwNi41OCAKICAiLz4KPHBvbHlsaW5lIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgc3R5bGU9InN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6NDsgc3Ryb2tlLW9wYWNpdHk6MTsgZmlsbDpub25lIiBwb2ludHM9IgogIDc5NC41MSwxNDIzLjA5IDc5NC41MSwxNDA2LjU4IAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTIwNi42NiwxNDIzLjA5IDEyMDYuNjYsMTQwNi41OCAKICAiLz4KPHBvbHlsaW5lIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgc3R5bGU9InN0cm9rZTojMDAwMDAwOyBzdHJva2Utd2lkdGg6NDsgc3Ryb2tlLW9wYWNpdHk6MTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE2MTguODEsMTQyMy4wOSAxNjE4LjgxLDE0MDYuNTggCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjQ7IHN0cm9rZS1vcGFjaXR5OjE7IGZpbGw6bm9uZSIgcG9pbnRzPSIKICAyMDMwLjk3LDE0MjMuMDkgMjAzMC45NywxNDA2LjU4IAogICIvPgo8cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE0zNTMuNzcgMTQ2Ni4xNiBMMzgzLjQ0NiAxNDY2LjE2IEwzODMuNDQ2IDE0NzAuMSBMMzUzLjc3IDE0NzAuMSBMMzUzLjc3IDE0NjYuMTYgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNNDAxLjM2MyAxNDUyLjUxIEwzODkuNTU3IDE0NzAuOTUgTDQwMS4zNjMgMTQ3MC45NSBMNDAxLjM2MyAxNDUyLjUxIE00MDAuMTM2IDE0NDguNDMgTDQwNi4wMTUgMTQ0OC40MyBMNDA2LjAxNSAxNDcwLjk1IEw0MTAuOTQ2IDE0NzAuOTUgTDQxMC45NDYgMTQ3NC44NCBMNDA2LjAxNSAxNDc0Ljg0IEw0MDYuMDE1IDE0ODIuOTkgTDQwMS4zNjMgMTQ4Mi45OSBMNDAxLjM2MyAxNDc0Ljg0IEwzODUuNzYxIDE0NzQuODQgTDM4NS43NjEgMTQ3MC4zMyBMNDAwLjEzNiAxNDQ4LjQzIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxwYXRoIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgZD0iTSAwIDAgTTc2Ni45NjQgMTQ2Ni4xNiBMNzk2LjY0IDE0NjYuMTYgTDc5Ni42NCAxNDcwLjEgTDc2Ni45NjQgMTQ3MC4xIEw3NjYuOTY0IDE0NjYuMTYgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNODA1LjczNyAxNDc5LjA2IEw4MjIuMDU2IDE0NzkuMDYgTDgyMi4wNTYgMTQ4Mi45OSBMODAwLjExMiAxNDgyLjk5IEw4MDAuMTEyIDE0NzkuMDYgUTgwMi43NzQgMTQ3Ni4zIDgwNy4zNTcgMTQ3MS42NyBRODExLjk2NCAxNDY3LjAyIDgxMy4xNDQgMTQ2NS42OCBRODE1LjM5IDE0NjMuMTUgODE2LjI2OSAxNDYxLjQyIFE4MTcuMTcyIDE0NTkuNjYgODE3LjE3MiAxNDU3Ljk3IFE4MTcuMTcyIDE0NTUuMjEgODE1LjIyOCAxNDUzLjQ4IFE4MTMuMzA2IDE0NTEuNzQgODEwLjIwNSAxNDUxLjc0IFE4MDguMDA2IDE0NTEuNzQgODA1LjU1MiAxNDUyLjUxIFE4MDMuMTIxIDE0NTMuMjcgODAwLjM0NCAxNDU0LjgyIEw4MDAuMzQ0IDE0NTAuMSBRODAzLjE2OCAxNDQ4Ljk2IDgwNS42MjEgMTQ0OC4zOSBRODA4LjA3NSAxNDQ3LjgxIDgxMC4xMTIgMTQ0Ny44MSBRODE1LjQ4MiAxNDQ3LjgxIDgxOC42NzcgMTQ1MC40OSBRODIxLjg3MSAxNDUzLjE4IDgyMS44NzEgMTQ1Ny42NyBRODIxLjg3MSAxNDU5LjggODIxLjA2MSAxNDYxLjcyIFE4MjAuMjc0IDE0NjMuNjIgODE4LjE2NyAxNDY2LjIxIFE4MTcuNTg5IDE0NjYuODggODE0LjQ4NyAxNDcwLjEgUTgxMS4zODUgMTQ3My4yOSA4MDUuNzM3IDE0NzkuMDYgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNMTIwNi42NiAxNDUxLjUxIFExMjAzLjA1IDE0NTEuNTEgMTIwMS4yMiAxNDU1LjA4IFExMTk5LjQyIDE0NTguNjIgMTE5OS40MiAxNDY1Ljc1IFExMTk5LjQyIDE0NzIuODUgMTIwMS4yMiAxNDc2LjQyIFExMjAzLjA1IDE0NzkuOTYgMTIwNi42NiAxNDc5Ljk2IFExMjEwLjMgMTQ3OS45NiAxMjEyLjEgMTQ3Ni40MiBRMTIxMy45MyAxNDcyLjg1IDEyMTMuOTMgMTQ2NS43NSBRMTIxMy45MyAxNDU4LjYyIDEyMTIuMSAxNDU1LjA4IFExMjEwLjMgMTQ1MS41MSAxMjA2LjY2IDE0NTEuNTEgTTEyMDYuNjYgMTQ0Ny44MSBRMTIxMi40NyAxNDQ3LjgxIDEyMTUuNTMgMTQ1Mi40MSBRMTIxOC42MSAxNDU3IDEyMTguNjEgMTQ2NS43NSBRMTIxOC42MSAxNDc0LjQ3IDEyMTUuNTMgMTQ3OS4wOCBRMTIxMi40NyAxNDgzLjY2IDEyMDYuNjYgMTQ4My42NiBRMTIwMC44NSAxNDgzLjY2IDExOTcuNzcgMTQ3OS4wOCBRMTE5NC43MiAxNDc0LjQ3IDExOTQuNzIgMTQ2NS43NSBRMTE5NC43MiAxNDU3IDExOTcuNzcgMTQ1Mi40MSBRMTIwMC44NSAxNDQ3LjgxIDEyMDYuNjYgMTQ0Ny44MSBaIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgLz48cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE0xNjEzLjQ3IDE0NzkuMDYgTDE2MjkuNzkgMTQ3OS4wNiBMMTYyOS43OSAxNDgyLjk5IEwxNjA3Ljg0IDE0ODIuOTkgTDE2MDcuODQgMTQ3OS4wNiBRMTYxMC41IDE0NzYuMyAxNjE1LjA5IDE0NzEuNjcgUTE2MTkuNjkgMTQ2Ny4wMiAxNjIwLjg3IDE0NjUuNjggUTE2MjMuMTIgMTQ2My4xNSAxNjI0IDE0NjEuNDIgUTE2MjQuOSAxNDU5LjY2IDE2MjQuOSAxNDU3Ljk3IFExNjI0LjkgMTQ1NS4yMSAxNjIyLjk2IDE0NTMuNDggUTE2MjEuMDQgMTQ1MS43NCAxNjE3Ljk0IDE0NTEuNzQgUTE2MTUuNzQgMTQ1MS43NCAxNjEzLjI4IDE0NTIuNTEgUTE2MTAuODUgMTQ1My4yNyAxNjA4LjA3IDE0NTQuODIgTDE2MDguMDcgMTQ1MC4xIFExNjEwLjkgMTQ0OC45NiAxNjEzLjM1IDE0NDguMzkgUTE2MTUuODEgMTQ0Ny44MSAxNjE3Ljg0IDE0NDcuODEgUTE2MjMuMjEgMTQ0Ny44MSAxNjI2LjQxIDE0NTAuNDkgUTE2MjkuNiAxNDUzLjE4IDE2MjkuNiAxNDU3LjY3IFExNjI5LjYgMTQ1OS44IDE2MjguNzkgMTQ2MS43MiBRMTYyOCAxNDYzLjYyIDE2MjUuOSAxNDY2LjIxIFExNjI1LjMyIDE0NjYuODggMTYyMi4yMiAxNDcwLjEgUTE2MTkuMTIgMTQ3My4yOSAxNjEzLjQ3IDE0NzkuMDYgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNMjAzMy45OCAxNDUyLjUxIEwyMDIyLjE3IDE0NzAuOTUgTDIwMzMuOTggMTQ3MC45NSBMMjAzMy45OCAxNDUyLjUxIE0yMDMyLjc1IDE0NDguNDMgTDIwMzguNjMgMTQ0OC40MyBMMjAzOC42MyAxNDcwLjk1IEwyMDQzLjU2IDE0NzAuOTUgTDIwNDMuNTYgMTQ3NC44NCBMMjAzOC42MyAxNDc0Ljg0IEwyMDM4LjYzIDE0ODIuOTkgTDIwMzMuOTggMTQ4Mi45OSBMMjAzMy45OCAxNDc0Ljg0IEwyMDE4LjM3IDE0NzQuODQgTDIwMTguMzcgMTQ3MC4zMyBMMjAzMi43NSAxNDQ4LjQzIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE0My4yMDgsMTI2MS4wOSAyMjU2Ljc2LDEyNjEuMDkgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE0My4yMDgsOTk5LjIxMyAyMjU2Ljc2LDk5OS4yMTMgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE0My4yMDgsNzM3LjMzNyAyMjU2Ljc2LDczNy4zMzcgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE0My4yMDgsNDc1LjQ2MSAyMjU2Ljc2LDQ3NS40NjEgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjI7IHN0cm9rZS1vcGFjaXR5OjAuMTsgZmlsbDpub25lIiBwb2ludHM9IgogIDE0My4yMDgsMjEzLjU4NCAyMjU2Ljc2LDIxMy41ODQgCiAgIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjQ7IHN0cm9rZS1vcGFjaXR5OjE7IGZpbGw6bm9uZSIgcG9pbnRzPSIKICAxNDMuMjA4LDE0MjMuMDkgMTQzLjIwOCw0Ny4yNDQxIAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTQzLjIwOCwxMjYxLjA5IDE2OC41NywxMjYxLjA5IAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTQzLjIwOCw5OTkuMjEzIDE2OC41Nyw5OTkuMjEzIAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTQzLjIwOCw3MzcuMzM3IDE2OC41Nyw3MzcuMzM3IAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTQzLjIwOCw0NzUuNDYxIDE2OC41Nyw0NzUuNDYxIAogICIvPgo8cG9seWxpbmUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBzdHlsZT0ic3Ryb2tlOiMwMDAwMDA7IHN0cm9rZS13aWR0aDo0OyBzdHJva2Utb3BhY2l0eToxOyBmaWxsOm5vbmUiIHBvaW50cz0iCiAgMTQzLjIwOCwyMTMuNTg0IDE2OC41NywyMTMuNTg0IAogICIvPgo8cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE01MS40NzIxIDEyNjEuNTQgTDgxLjE0NzkgMTI2MS41NCBMODEuMTQ3OSAxMjY1LjQ4IEw1MS40NzIxIDEyNjUuNDggTDUxLjQ3MjEgMTI2MS41NCBaIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgLz48cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE05OS4wNjQ1IDEyNDcuODggTDg3LjI1OSAxMjY2LjMzIEw5OS4wNjQ1IDEyNjYuMzMgTDk5LjA2NDUgMTI0Ny44OCBNOTcuODM3NiAxMjQzLjgxIEwxMDMuNzE3IDEyNDMuODEgTDEwMy43MTcgMTI2Ni4zMyBMMTA4LjY0OCAxMjY2LjMzIEwxMDguNjQ4IDEyNzAuMjIgTDEwMy43MTcgMTI3MC4yMiBMMTAzLjcxNyAxMjc4LjM3IEw5OS4wNjQ1IDEyNzguMzcgTDk5LjA2NDUgMTI3MC4yMiBMODMuNDYyNyAxMjcwLjIyIEw4My40NjI3IDEyNjUuNzEgTDk3LjgzNzYgMTI0My44MSBaIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgLz48cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE01My41NTU0IDk5OS42NjUgTDgzLjIzMTIgOTk5LjY2NSBMODMuMjMxMiAxMDAzLjYgTDUzLjU1NTQgMTAwMy42IEw1My41NTU0IDk5OS42NjUgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNOTIuMzI4NCAxMDEyLjU2IEwxMDguNjQ4IDEwMTIuNTYgTDEwOC42NDggMTAxNi40OSBMODYuNzAzNCAxMDE2LjQ5IEw4Ni43MDM0IDEwMTIuNTYgUTg5LjM2NTQgMTAwOS44IDkzLjk0ODggMTAwNS4xNyBROTguNTU1MiAxMDAwLjUyIDk5LjczNTggOTk5LjE3OSBRMTAxLjk4MSA5OTYuNjU2IDEwMi44NjEgOTk0LjkyIFExMDMuNzY0IDk5My4xNiAxMDMuNzY0IDk5MS40NyBRMTAzLjc2NCA5ODguNzE2IDEwMS44MTkgOTg2Ljk4IFE5OS44OTc4IDk4NS4yNDQgOTYuNzk2IDk4NS4yNDQgUTk0LjU5NjkgOTg1LjI0NCA5Mi4xNDMyIDk4Ni4wMDggUTg5LjcxMjcgOTg2Ljc3MSA4Ni45MzQ5IDk4OC4zMjIgTDg2LjkzNDkgOTgzLjYgUTg5Ljc1OSA5ODIuNDY2IDkyLjIxMjYgOTgxLjg4NyBROTQuNjY2MyA5ODEuMzA4IDk2LjcwMzQgOTgxLjMwOCBRMTAyLjA3NCA5ODEuMzA4IDEwNS4yNjggOTgzLjk5NCBRMTA4LjQ2MyA5ODYuNjc5IDEwOC40NjMgOTkxLjE3IFExMDguNDYzIDk5My4yOTkgMTA3LjY1MiA5OTUuMjIgUTEwNi44NjUgOTk3LjExOSAxMDQuNzU5IDk5OS43MTEgUTEwNC4xOCAxMDAwLjM4IDEwMS4wNzggMTAwMy42IFE5Ny45NzY1IDEwMDYuNzkgOTIuMzI4NCAxMDEyLjU2IFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxwYXRoIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgZD0iTSAwIDAgTTk2LjcwMzQgNzIzLjEzNiBROTMuMDkyMyA3MjMuMTM2IDkxLjI2MzYgNzI2LjcwMSBRODkuNDU4IDczMC4yNDIgODkuNDU4IDczNy4zNzIgUTg5LjQ1OCA3NDQuNDc4IDkxLjI2MzYgNzQ4LjA0MyBROTMuMDkyMyA3NTEuNTg1IDk2LjcwMzQgNzUxLjU4NSBRMTAwLjMzOCA3NTEuNTg1IDEwMi4xNDMgNzQ4LjA0MyBRMTAzLjk3MiA3NDQuNDc4IDEwMy45NzIgNzM3LjM3MiBRMTAzLjk3MiA3MzAuMjQyIDEwMi4xNDMgNzI2LjcwMSBRMTAwLjMzOCA3MjMuMTM2IDk2LjcwMzQgNzIzLjEzNiBNOTYuNzAzNCA3MTkuNDMyIFExMDIuNTE0IDcxOS40MzIgMTA1LjU2OSA3MjQuMDM5IFExMDguNjQ4IDcyOC42MjIgMTA4LjY0OCA3MzcuMzcyIFExMDguNjQ4IDc0Ni4wOTkgMTA1LjU2OSA3NTAuNzA1IFExMDIuNTE0IDc1NS4yODggOTYuNzAzNCA3NTUuMjg4IFE5MC44OTMyIDc1NS4yODggODcuODE0NSA3NTAuNzA1IFE4NC43NTkgNzQ2LjA5OSA4NC43NTkgNzM3LjM3MiBRODQuNzU5IDcyOC42MjIgODcuODE0NSA3MjQuMDM5IFE5MC44OTMyIDcxOS40MzIgOTYuNzAzNCA3MTkuNDMyIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxwYXRoIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgZD0iTSAwIDAgTTkyLjMyODQgNDg4LjgwNSBMMTA4LjY0OCA0ODguODA1IEwxMDguNjQ4IDQ5Mi43NDEgTDg2LjcwMzQgNDkyLjc0MSBMODYuNzAzNCA0ODguODA1IFE4OS4zNjU0IDQ4Ni4wNTEgOTMuOTQ4OCA0ODEuNDIxIFE5OC41NTUyIDQ3Ni43NjggOTkuNzM1OCA0NzUuNDI2IFExMDEuOTgxIDQ3Mi45MDMgMTAyLjg2MSA0NzEuMTY3IFExMDMuNzY0IDQ2OS40MDcgMTAzLjc2NCA0NjcuNzE4IFExMDMuNzY0IDQ2NC45NjMgMTAxLjgxOSA0NjMuMjI3IFE5OS44OTc4IDQ2MS40OTEgOTYuNzk2IDQ2MS40OTEgUTk0LjU5NjkgNDYxLjQ5MSA5Mi4xNDMyIDQ2Mi4yNTUgUTg5LjcxMjcgNDYzLjAxOSA4Ni45MzQ5IDQ2NC41NjkgTDg2LjkzNDkgNDU5Ljg0NyBRODkuNzU5IDQ1OC43MTMgOTIuMjEyNiA0NTguMTM0IFE5NC42NjYzIDQ1Ny41NTYgOTYuNzAzNCA0NTcuNTU2IFExMDIuMDc0IDQ1Ny41NTYgMTA1LjI2OCA0NjAuMjQxIFExMDguNDYzIDQ2Mi45MjYgMTA4LjQ2MyA0NjcuNDE3IFExMDguNDYzIDQ2OS41NDYgMTA3LjY1MiA0NzEuNDY4IFExMDYuODY1IDQ3My4zNjYgMTA0Ljc1OSA0NzUuOTU4IFExMDQuMTggNDc2LjYzIDEwMS4wNzggNDc5Ljg0NyBROTcuOTc2NSA0ODMuMDQyIDkyLjMyODQgNDg4LjgwNSBaIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgLz48cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE05OS4wNjQ1IDIwMC4zNzggTDg3LjI1OSAyMTguODI3IEw5OS4wNjQ1IDIxOC44MjcgTDk5LjA2NDUgMjAwLjM3OCBNOTcuODM3NiAxOTYuMzA0IEwxMDMuNzE3IDE5Ni4zMDQgTDEwMy43MTcgMjE4LjgyNyBMMTA4LjY0OCAyMTguODI3IEwxMDguNjQ4IDIyMi43MTYgTDEwMy43MTcgMjIyLjcxNiBMMTAzLjcxNyAyMzAuODY0IEw5OS4wNjQ1IDIzMC44NjQgTDk5LjA2NDUgMjIyLjcxNiBMODMuNDYyNyAyMjIuNzE2IEw4My40NjI3IDIxOC4yMDIgTDk3LjgzNzYgMTk2LjMwNCBaIiBmaWxsPSIjMDAwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgLz48Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjE4NTcuNjIiIGN5PSIxMTEuODEzIiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMDIwLjc4IiBjeT0iMTAzLjQ2MyIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTgzNC44IiBjeT0iMTE0LjU5NiIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTczNi4zNiIgY3k9IjIwNi40MzkiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjIwNDYuMDMiIGN5PSIxODguMDIyIiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMTAxLjc5IiBjeT0iNjUxLjc0IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxNDk1LjcxIiBjeT0iNjE2LjE2IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxNTg2LjYyIiBjeT0iNDg2LjMwNiIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTUzOC42IiBjeT0iNTk2LjU2IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxODQ3LjI2IiBjeT0iNDUxLjM4OSIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTkxMS40NCIgY3k9IjEyMy4yMzQiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjEzMTkuODEiIGN5PSI0MTMuMjM1IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxMzcxLjMiIGN5PSI1MjYuNDExIiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMTk2Ljk0IiBjeT0iNjY0LjkwNCIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTkwOS40IiBjeT0iNjQ0LjczOCIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTQxNC4wMSIgY3k9IjM3OS41MTQiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjE1NjUuNjciIGN5PSIyNDAuNTU3IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxOTE0LjAyIiBjeT0iNDk1LjY1NyIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTM2Mi4yMyIgY3k9IjQwNy4yIiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMDkxLjE4IiBjeT0iMTU2LjI0MiIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMjE5LjIwNyIgY3k9IjEwMTIuNzQiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjgyMy44OTciIGN5PSIxMTU1LjUiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjUxNC44NjMiIGN5PSIxMDgyLjY1IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI0NTYuNzgyIiBjeT0iMTAzMS40MiIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNTIxLjc4NyIgY3k9IjExMzcuMTQiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjMxNS44NTQiIGN5PSIxMzQzLjU5IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIzMTIuOTA3IiBjeT0iMTI3NC43NCIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNDM5LjA5MiIgY3k9IjEwNTIuNTkiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjU1MS44MTIiIGN5PSIxMjYzLjQ3IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI2MzkuNTE4IiBjeT0iMTE3OC43MSIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNzg3LjIyOSIgY3k9IjEyNzEuNCIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNjU0LjQ0NSIgY3k9Ijg0Mi4yOTQiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjQxOC4wNTQiIGN5PSI5MDQuNTg3IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI3MjguNTMzIiBjeT0iMTMzMy41MiIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNDQ3LjQ5NCIgY3k9IjEwMTguMjgiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjQ0My44OTQiIGN5PSIxMzEzLjgzIiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI3NDkuNTI4IiBjeT0iOTM1LjI2NyIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNzkyLjI3OCIgY3k9Ijg3OS44NTUiIHI9IjE0IiBmaWxsPSIjZmYwMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9Ijg3NS4wNDIiIGN5PSIxMzY4LjY3IiByPSIxNCIgZmlsbD0iI2ZmMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMTAuNDg2IiBjeT0iOTI2LjMwMSIgcj0iMTQiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTcwOS41NiIgY3k9IjEyMjAuNTIiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjE0MzcuMzYiIGN5PSIxMDMxLjA1IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxODczLjYiIGN5PSI5NzYuMTc1IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxNTQ2LjIyIiBjeT0iMTA5Mi40OSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTc3Mi4yIiBjeT0iMTExMy41OSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTM5Ni45IiBjeT0iMTAzMS4xIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxNzk2LjY0IiBjeT0iMTI3OC41MiIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTU1NS45MiIgY3k9Ijg5MC41NTkiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjE0MTEuOCIgY3k9IjgzMS4wNDkiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjIwODMuNDQiIGN5PSI5MjMuNTcyIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxODk3LjEiIGN5PSIxMTE2LjIzIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxNjIzLjAyIiBjeT0iMTMzNS45NSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTQxNC40OCIgY3k9Ijk2My4yMTQiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjIwMzUuOCIgY3k9IjgxMy4xMTYiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjIwODYuODUiIGN5PSIxMTQwLjQxIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIxMzkxLjE4IiBjeT0iMTExNi4zMSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTY2OC4xOCIgY3k9Ijg5MS44MjIiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjE2MTYuMjYiIGN5PSIxMDYyLjg2IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMDAzLjM5IiBjeT0iOTE2LjI3MiIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMTU1NiIgY3k9IjEzODQuMTUiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjUwNC43NDYiIGN5PSIxNzguOTk0IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyOTkuNTI1IiBjeT0iNDEzLjU5NiIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNDU1LjE4IiBjeT0iMjY1LjMxOSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMzU2LjY1NyIgY3k9IjQ1Mi41MjQiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9Ijk5NS43NzgiIGN5PSI0OTguMTI4IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIyMzkuMTU1IiBjeT0iMjYxLjU4NiIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iMjAzLjAyNSIgY3k9IjQ3Ni4wMzciIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjY5OS44NjciIGN5PSI0MjcuMjkxIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI3MzEuNjM5IiBjeT0iMzE2LjE5OSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNDU3Ljg3NSIgY3k9IjY0NS43MiIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNjQwLjYyNSIgY3k9IjEzMi4zMjkiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjU1Ni40NjMiIGN5PSI0NTIuNDg3IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIzMTEuOTgzIiBjeT0iNjA1LjI2NyIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNzc2LjM0NSIgY3k9IjI3Ni45ODciIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9IjExMDIuMjgiIGN5PSI1ODkuMDk4IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI2MzUuNjgyIiBjeT0iNjIzLjk0OSIgcj0iMTQiIGZpbGw9IiMwMDAwZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjMuMDcyIi8+CjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjIpIiBjeD0iNzgzLjAzNiIgY3k9IjM5NS4wMDYiIHI9IjE0IiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSIzLjA3MiIvPgo8Y2lyY2xlIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIyKSIgY3g9Ijk1MC41MjgiIGN5PSI4Ni4xODMxIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSI1NjEuNzQzIiBjeT0iNDYyLjIxIiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMikiIGN4PSIzNDUuNzYiIGN5PSI1NzQuNTY4IiByPSIxNCIgZmlsbD0iIzAwMDBmZiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW9wYWNpdHk9IjEiIHN0cm9rZS13aWR0aD0iMy4wNzIiLz4KPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSIKTTE5MDAuNDUgMjc0LjU0NiBMMjE4Ni4zIDI3NC41NDYgTDIxODYuMyA5My4xMDU2IEwxOTAwLjQ1IDkzLjEwNTYgIFoKICAiIGZpbGw9IiNmZmZmZmYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIi8+Cjxwb2x5bGluZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIHN0eWxlPSJzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjQ7IHN0cm9rZS1vcGFjaXR5OjE7IGZpbGw6bm9uZSIgcG9pbnRzPSIKICAxOTAwLjQ1LDI3NC41NDYgMjE4Ni4zLDI3NC41NDYgMjE4Ni4zLDkzLjEwNTYgMTkwMC40NSw5My4xMDU2IDE5MDAuNDUsMjc0LjU0NiAKICAiLz4KPGNpcmNsZSBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGN4PSIxOTk0LjM4IiBjeT0iMTUzLjU4NiIgcj0iMjMiIGZpbGw9IiNmZjAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1vcGFjaXR5PSIxIiBzdHJva2Utd2lkdGg9IjQuOTE1MiIvPgo8cGF0aCBjbGlwLXBhdGg9InVybCgjY2xpcDIyMCkiIGQ9Ik0gMCAwIE0yMTAyLjE2IDE3My4yNzMgUTIxMDAuMzYgMTc3LjkwMyAyMDk4LjY0IDE3OS4zMTUgUTIwOTYuOTMgMTgwLjcyNyAyMDk0LjA2IDE4MC43MjcgTDIwOTAuNjYgMTgwLjcyNyBMMjA5MC42NiAxNzcuMTYyIEwyMDkzLjE2IDE3Ny4xNjIgUTIwOTQuOTIgMTc3LjE2MiAyMDk1Ljg5IDE3Ni4zMjggUTIwOTYuODYgMTc1LjQ5NSAyMDk4LjA0IDE3Mi4zOTMgTDIwOTguOCAxNzAuNDQ5IEwyMDg4LjMyIDE0NC45NCBMMjA5Mi44MyAxNDQuOTQgTDIxMDAuOTMgMTY1LjIxNyBMMjEwOS4wNCAxNDQuOTQgTDIxMTMuNTUgMTQ0Ljk0IEwyMTAyLjE2IDE3My4yNzMgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9IjEiIC8+PHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNMjExOS40MyAxNjYuOTMgTDIxMjcuMDcgMTY2LjkzIEwyMTI3LjA3IDE0MC41NjUgTDIxMTguNzYgMTQyLjIzMSBMMjExOC43NiAxMzcuOTcyIEwyMTI3LjAyIDEzNi4zMDYgTDIxMzEuNyAxMzYuMzA2IEwyMTMxLjcgMTY2LjkzIEwyMTM5LjM0IDE2Ni45MyBMMjEzOS4zNCAxNzAuODY2IEwyMTE5LjQzIDE3MC44NjYgTDIxMTkuNDMgMTY2LjkzIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxjaXJjbGUgY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBjeD0iMTk5NC4zOCIgY3k9IjIxNC4wNjYiIHI9IjIzIiBmaWxsPSIjMDAwMGZmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZpbGwtb3BhY2l0eT0iMSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utb3BhY2l0eT0iMSIgc3Ryb2tlLXdpZHRoPSI0LjkxNTIiLz4KPHBhdGggY2xpcC1wYXRoPSJ1cmwoI2NsaXAyMjApIiBkPSJNIDAgMCBNMjEwMi4xNiAyMzMuNzUzIFEyMTAwLjM2IDIzOC4zODMgMjA5OC42NCAyMzkuNzk1IFEyMDk2LjkzIDI0MS4yMDcgMjA5NC4wNiAyNDEuMjA3IEwyMDkwLjY2IDI0MS4yMDcgTDIwOTAuNjYgMjM3LjY0MiBMMjA5My4xNiAyMzcuNjQyIFEyMDk0LjkyIDIzNy42NDIgMjA5NS44OSAyMzYuODA4IFEyMDk2Ljg2IDIzNS45NzUgMjA5OC4wNCAyMzIuODczIEwyMDk4LjggMjMwLjkyOSBMMjA4OC4zMiAyMDUuNDIgTDIwOTIuODMgMjA1LjQyIEwyMTAwLjkzIDIyNS42OTcgTDIxMDkuMDQgMjA1LjQyIEwyMTEzLjU1IDIwNS40MiBMMjEwMi4xNiAyMzMuNzUzIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjxwYXRoIGNsaXAtcGF0aD0idXJsKCNjbGlwMjIwKSIgZD0iTSAwIDAgTTIxMjIuNjUgMjI3LjQxIEwyMTM4Ljk3IDIyNy40MSBMMjEzOC45NyAyMzEuMzQ2IEwyMTE3LjAyIDIzMS4zNDYgTDIxMTcuMDIgMjI3LjQxIFEyMTE5LjY4IDIyNC42NTYgMjEyNC4yNyAyMjAuMDI2IFEyMTI4Ljg3IDIxNS4zNzMgMjEzMC4wNSAyMTQuMDMxIFEyMTMyLjMgMjExLjUwOCAyMTMzLjE4IDIwOS43NzIgUTIxMzQuMDggMjA4LjAxMiAyMTM0LjA4IDIwNi4zMjMgUTIxMzQuMDggMjAzLjU2OCAyMTMyLjE0IDIwMS44MzIgUTIxMzAuMjIgMjAwLjA5NiAyMTI3LjExIDIwMC4wOTYgUTIxMjQuOTIgMjAwLjA5NiAyMTIyLjQ2IDIwMC44NiBRMjEyMC4wMyAyMDEuNjIzIDIxMTcuMjUgMjAzLjE3NCBMMjExNy4yNSAxOTguNDUyIFEyMTIwLjA4IDE5Ny4zMTggMjEyMi41MyAxOTYuNzM5IFEyMTI0Ljk4IDE5Ni4xNjEgMjEyNy4wMiAxOTYuMTYxIFEyMTMyLjM5IDE5Ni4xNjEgMjEzNS41OSAxOTguODQ2IFEyMTM4Ljc4IDIwMS41MzEgMjEzOC43OCAyMDYuMDIyIFEyMTM4Ljc4IDIwOC4xNTEgMjEzNy45NyAyMTAuMDczIFEyMTM3LjE4IDIxMS45NzEgMjEzNS4wOCAyMTQuNTYzIFEyMTM0LjUgMjE1LjIzNSAyMTMxLjQgMjE4LjQ1MiBRMjEyOC4yOSAyMjEuNjQ3IDIxMjIuNjUgMjI3LjQxIFoiIGZpbGw9IiMwMDAwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZmlsbC1vcGFjaXR5PSIxIiAvPjwvc3ZnPgo="  />

<h2>Building a Neural Network</h2>
<p>The next step is to define a <a href="https://en.wikipedia.org/wiki/Feedforward_neural_network">feedforward neural network</a> where we express our parameters as distribtuions, and not single points as with traditional neural networks. The two functions below, <code>unpack</code> and <code>nn_forward</code> are helper functions we need when we specify our model in Turing.</p>
<p><code>unpack</code> takes a vector of parameters and partitions them between weights and biases. <code>nn_forward</code> constructs a neural network with the variables generated in <code>unpack</code> and returns a prediction based on the weights provided.</p>
<p>The <code>unpack</code> and <code>nn_forward</code> functions are explicity designed to create a neural network with two hidden layers and one output layer, as shown below.</p>
<p>&lt;img width&#61;&quot;320&quot; alt&#61;&quot;nn-diagram&quot; src&#61;&quot;https://user-images.githubusercontent.com/422990/47970321-bd172080-e038-11e8-9c6d-6c2bd790bd8a.png&quot;&gt;</p>
<p>The end of this tutorial provides some code that can be used to generate more general network shapes.</p>


<pre class='hljl'>
<span class='hljl-cs'># Turn a vector into a set of weights and biases.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>unpack</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>W₁</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>6</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>);</span><span class='hljl-t'>   
    </span><span class='hljl-n'>b₁</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>7</span><span class='hljl-oB'>:</span><span class='hljl-ni'>9</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>)</span><span class='hljl-t'>
    
    </span><span class='hljl-n'>W₂</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>10</span><span class='hljl-oB'>:</span><span class='hljl-ni'>15</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>3</span><span class='hljl-p'>);</span><span class='hljl-t'> 
    </span><span class='hljl-n'>b₂</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>16</span><span class='hljl-oB'>:</span><span class='hljl-ni'>17</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>
    
    </span><span class='hljl-n'>Wₒ</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>18</span><span class='hljl-oB'>:</span><span class='hljl-ni'>19</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>2</span><span class='hljl-p'>);</span><span class='hljl-t'> 
    </span><span class='hljl-n'>bₒ</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>[</span><span class='hljl-ni'>20</span><span class='hljl-oB'>:</span><span class='hljl-ni'>20</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>)</span><span class='hljl-t'>   
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-n'>W₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>W₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Wₒ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>bₒ</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># Construct a neural network using Flux and return a predicted value.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nn_params</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>W₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>W₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Wₒ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>bₒ</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>unpack</span><span class='hljl-p'>(</span><span class='hljl-n'>nn_params</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>nn</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Chain</span><span class='hljl-p'>(</span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>W₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₁</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>tanh</span><span class='hljl-p'>),</span><span class='hljl-t'>
               </span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>W₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>b₂</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>tanh</span><span class='hljl-p'>),</span><span class='hljl-t'>
               </span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>Wₒ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>bₒ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>σ</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-nf'>nn</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-p'>;</span>
</pre>



<p>The probabalistic model specification below creates a <code>params</code> variable, which has 20 normally distributed variables. Each entry in the <code>params</code> vector represents weights and biases of our neural net.</p>


<pre class='hljl'>
<span class='hljl-cs'># Create a regularization term and a Gaussain prior variance term.</span><span class='hljl-t'>
</span><span class='hljl-n'>alpha</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.09</span><span class='hljl-t'>
</span><span class='hljl-n'>sig</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>sqrt</span><span class='hljl-p'>(</span><span class='hljl-nfB'>1.0</span><span class='hljl-t'> </span><span class='hljl-oB'>/</span><span class='hljl-t'> </span><span class='hljl-n'>alpha</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-cs'># Specify the probabalistic model.</span><span class='hljl-t'>
</span><span class='hljl-nd'>@model</span><span class='hljl-t'> </span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>bayes_nn</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>ts</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-cs'># Create the weight and bias vector.</span><span class='hljl-t'>
    </span><span class='hljl-n'>nn_params</span><span class='hljl-t'> </span><span class='hljl-oB'>~</span><span class='hljl-t'> </span><span class='hljl-nf'>MvNormal</span><span class='hljl-p'>(</span><span class='hljl-nf'>zeros</span><span class='hljl-p'>(</span><span class='hljl-ni'>20</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>sig</span><span class='hljl-t'> </span><span class='hljl-oB'>.*</span><span class='hljl-t'> </span><span class='hljl-nf'>ones</span><span class='hljl-p'>(</span><span class='hljl-ni'>20</span><span class='hljl-p'>))</span><span class='hljl-t'>
    
    </span><span class='hljl-cs'># Calculate predictions for the inputs given the weights</span><span class='hljl-t'>
    </span><span class='hljl-cs'># and biases in theta.</span><span class='hljl-t'>
    </span><span class='hljl-n'>preds</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>nn_params</span><span class='hljl-p'>)</span><span class='hljl-t'>
    
    </span><span class='hljl-cs'># Observe each prediction.</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-nf'>length</span><span class='hljl-p'>(</span><span class='hljl-n'>ts</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>ts</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>~</span><span class='hljl-t'> </span><span class='hljl-nf'>Bernoulli</span><span class='hljl-p'>(</span><span class='hljl-n'>preds</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>])</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-p'>;</span>
</pre>



<p>Inference can now be performed by calling <code>sample</code>. We use the <code>HMC</code> sampler here.</p>


<pre class='hljl'>
<span class='hljl-cs'># Perform inference.</span><span class='hljl-t'>
</span><span class='hljl-n'>N</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>5000</span><span class='hljl-t'>
</span><span class='hljl-n'>ch</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>sample</span><span class='hljl-p'>(</span><span class='hljl-nf'>bayes_nn</span><span class='hljl-p'>(</span><span class='hljl-nf'>hcat</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-oB'>...</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>ts</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>HMC</span><span class='hljl-p'>(</span><span class='hljl-nfB'>0.05</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>4</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>N</span><span class='hljl-p'>);</span>
</pre>


<pre class="julia-error">
ERROR: DimensionMismatch&#40;&quot;expected bias of size &#40;2,&#41;, got size &#40;2, 1&#41;&quot;&#41;
</pre>


<p>Now we extract the weights and biases from the sampled chain. We&#39;ll use these primarily in determining how good a classifier our model is.</p>


<pre class='hljl'>
<span class='hljl-cs'># Extract all weight and bias parameters.</span><span class='hljl-t'>
</span><span class='hljl-n'>theta</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>MCMCChains</span><span class='hljl-oB'>.</span><span class='hljl-nf'>group</span><span class='hljl-p'>(</span><span class='hljl-n'>ch</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:nn_params</span><span class='hljl-p'>)</span><span class='hljl-oB'>.</span><span class='hljl-n'>value</span><span class='hljl-p'>;</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: ch not defined
</pre>


<h2>Prediction Visualization</h2>
<p>We can use <a href="https://en.wikipedia.org/wiki/Maximum_a_posteriori_estimation">MAP estimation</a> to classify our population by using the set of weights that provided the highest log posterior.</p>


<pre class='hljl'>
<span class='hljl-cs'># Plot the data we have.</span><span class='hljl-t'>
</span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-cs'># Find the index that provided the highest log posterior in the chain.</span><span class='hljl-t'>
</span><span class='hljl-n'>_</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>findmax</span><span class='hljl-p'>(</span><span class='hljl-n'>ch</span><span class='hljl-p'>[</span><span class='hljl-sc'>:lp</span><span class='hljl-p'>])</span><span class='hljl-t'>

</span><span class='hljl-cs'># Extract the max row value from i.</span><span class='hljl-t'>
</span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-oB'>.</span><span class='hljl-n'>I</span><span class='hljl-p'>[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'>

</span><span class='hljl-cs'># Plot the posterior distribution with a contour plot.</span><span class='hljl-t'>
</span><span class='hljl-n'>x_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>y_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>Z</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>([</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-oB'>:</span><span class='hljl-p'>])[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>=</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-oB'>=</span><span class='hljl-n'>y_range</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>contour!</span><span class='hljl-p'>(</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Z</span><span class='hljl-p'>)</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: ch not defined
</pre>


<p>The contour plot above shows that the MAP method is not too bad at classifying our data.</p>
<p>Now we can visualize our predictions.</p>
:&#36;
<p>p&#40;\tilde&#123;x&#125; | X, \alpha&#41; &#61; \int<em>&#123;\theta&#125; p&#40;\tilde&#123;x&#125; | \theta&#41; p&#40;\theta | X, \alpha&#41; \approx \sum</em>&#123;\theta \sim p&#40;\theta | X, \alpha&#41;&#125;f_&#123;\theta&#125;&#40;\tilde&#123;x&#125;&#41;  &#36;</p>
<p>The <code>nn_predict</code> function takes the average predicted value from a network parameterized by weights drawn from the MCMC chain.</p>


<pre class='hljl'>
<span class='hljl-cs'># Return the average predicted value across</span><span class='hljl-t'>
</span><span class='hljl-cs'># multiple weights.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_predict</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>num</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>mean</span><span class='hljl-p'>([</span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-oB'>:</span><span class='hljl-p'>])[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-oB'>:</span><span class='hljl-n'>num</span><span class='hljl-p'>])</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-p'>;</span>
</pre>



<p>Next, we use the <code>nn_predict</code> function to predict the value at a sample of points where the <code>x</code> and <code>y</code> coordinates range between -6 and 6. As we can see below, we still have a satisfactory fit to our data.</p>


<pre class='hljl'>
<span class='hljl-cs'># Plot the average prediction.</span><span class='hljl-t'>
</span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-n'>n_end</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1500</span><span class='hljl-t'>
</span><span class='hljl-n'>x_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>y_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>Z</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>nn_predict</span><span class='hljl-p'>([</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n_end</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>=</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-oB'>=</span><span class='hljl-n'>y_range</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>contour!</span><span class='hljl-p'>(</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Z</span><span class='hljl-p'>)</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: theta not defined
</pre>


<p>If you are interested in how the predictive power of our Bayesian neural network evolved between samples, the following graph displays an animation of the contour plot generated from the network weights in samples 1 to 1,000. </p>


<pre class='hljl'>
<span class='hljl-cs'># Number of iterations to plot.</span><span class='hljl-t'>
</span><span class='hljl-n'>n_end</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>500</span><span class='hljl-t'>

</span><span class='hljl-n'>anim</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nd'>@gif</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-oB'>=</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>n_end</span><span class='hljl-t'>
    </span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>
    </span><span class='hljl-n'>Z</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>([</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-oB'>:</span><span class='hljl-p'>])[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>=</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-oB'>=</span><span class='hljl-n'>y_range</span><span class='hljl-p'>]</span><span class='hljl-t'>
    </span><span class='hljl-nf'>contour!</span><span class='hljl-p'>(</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Z</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>title</span><span class='hljl-oB'>=</span><span class='hljl-s'>&quot;Iteration </span><span class='hljl-si'>$i</span><span class='hljl-s'>&quot;</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>clim</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-ni'>0</span><span class='hljl-p'>,</span><span class='hljl-ni'>1</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'> </span><span class='hljl-n'>every</span><span class='hljl-t'> </span><span class='hljl-ni'>5</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: theta not defined
</pre>


<h2>Variational Inference &#40;ADVI&#41;</h2>
<p>We can also use Turing&#39;s variational inference tools to estimate the parameters of this model. See <a href="https://turing.ml/dev/docs/for-developers/variational_inference">variational inference</a> for more information.</p>


<pre class='hljl'>
<span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Bijectors</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>Turing</span><span class='hljl-oB'>:</span><span class='hljl-t'> </span><span class='hljl-n'>Variational</span><span class='hljl-t'>
</span><span class='hljl-k'>using</span><span class='hljl-t'> </span><span class='hljl-n'>AdvancedVI</span><span class='hljl-t'>

</span><span class='hljl-n'>m</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>bayes_nn</span><span class='hljl-p'>(</span><span class='hljl-nf'>hcat</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-oB'>...</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>ts</span><span class='hljl-p'>);</span><span class='hljl-t'>

</span><span class='hljl-n'>q</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>Variational</span><span class='hljl-oB'>.</span><span class='hljl-nf'>meanfield</span><span class='hljl-p'>(</span><span class='hljl-n'>m</span><span class='hljl-p'>)</span><span class='hljl-t'>

</span><span class='hljl-n'>μ</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>randn</span><span class='hljl-p'>(</span><span class='hljl-nf'>length</span><span class='hljl-p'>(</span><span class='hljl-n'>q</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>ω</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-ni'>1</span><span class='hljl-t'> </span><span class='hljl-oB'>.*</span><span class='hljl-t'> </span><span class='hljl-nf'>ones</span><span class='hljl-p'>(</span><span class='hljl-nf'>length</span><span class='hljl-p'>(</span><span class='hljl-n'>q</span><span class='hljl-p'>))</span><span class='hljl-t'>

</span><span class='hljl-n'>q</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>AdvancedVI</span><span class='hljl-oB'>.</span><span class='hljl-nf'>update</span><span class='hljl-p'>(</span><span class='hljl-n'>q</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>μ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>exp</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-n'>ω</span><span class='hljl-p'>));</span><span class='hljl-t'>

</span><span class='hljl-n'>advi</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>ADVI</span><span class='hljl-p'>(</span><span class='hljl-ni'>10</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5_000</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>q_hat</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>vi</span><span class='hljl-p'>(</span><span class='hljl-n'>m</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>advi</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>q</span><span class='hljl-p'>);</span>
</pre>


<pre class="julia-error">
ERROR: DimensionMismatch&#40;&quot;expected bias of size &#40;2,&#41;, got size &#40;2, 1&#41;&quot;&#41;
</pre>



<pre class='hljl'>
<span class='hljl-n'>samples</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>transpose</span><span class='hljl-p'>(</span><span class='hljl-nf'>rand</span><span class='hljl-p'>(</span><span class='hljl-n'>q_hat</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>5000</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>ch_vi</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Chains</span><span class='hljl-p'>(</span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>samples</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>size</span><span class='hljl-p'>(</span><span class='hljl-n'>samples</span><span class='hljl-p'>)</span><span class='hljl-oB'>...</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>string</span><span class='hljl-oB'>.</span><span class='hljl-p'>(</span><span class='hljl-n'>MCMCChains</span><span class='hljl-oB'>.</span><span class='hljl-nf'>namesingroup</span><span class='hljl-p'>(</span><span class='hljl-n'>ch</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:nn_params</span><span class='hljl-p'>)));</span><span class='hljl-t'>

</span><span class='hljl-cs'># Extract all weight and bias parameters.</span><span class='hljl-t'>
</span><span class='hljl-n'>theta</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>MCMCChains</span><span class='hljl-oB'>.</span><span class='hljl-nf'>group</span><span class='hljl-p'>(</span><span class='hljl-n'>ch_vi</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:nn_params</span><span class='hljl-p'>)</span><span class='hljl-oB'>.</span><span class='hljl-n'>value</span><span class='hljl-p'>;</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: q_hat not defined
</pre>



<pre class='hljl'>
<span class='hljl-cs'># Plot the average prediction.</span><span class='hljl-t'>
</span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-n'>n_end</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1500</span><span class='hljl-t'>
</span><span class='hljl-n'>x_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>y_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>Z</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>nn_predict</span><span class='hljl-p'>([</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>n_end</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>=</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-oB'>=</span><span class='hljl-n'>y_range</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>contour!</span><span class='hljl-p'>(</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Z</span><span class='hljl-p'>)</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: theta not defined
</pre>


<h2>Generic Bayesian Neural Networks</h2>
<p>The below code is intended for use in more general applications, where you need to be able to change the basic network shape fluidly. The code above is highly rigid, and adapting it for other architectures would be time consuming. Currently the code below only supports networks of <code>Dense</code> layers.</p>
<p>Here, we solve the same problem as above, but with three additional 2x2 <code>tanh</code> hidden layers. You can modify the <code>network_shape</code> variable to specify differing architectures. A tuple <code>&#40;3,2, :tanh&#41;</code> means you want to construct a <code>Dense</code> layer with 3 outputs, 2 inputs, and a <code>tanh</code> activation function. You can provide any activation function found in Flux by entering it as a <code>Symbol</code> &#40;e.g., the <code>tanh</code> function is entered in the third part of the tuple as <code>:tanh</code>&#41;.</p>


<pre class='hljl'>
<span class='hljl-cs'># Specify the network architecture.</span><span class='hljl-t'>
</span><span class='hljl-n'>network_shape</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-t'>
    </span><span class='hljl-p'>(</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:tanh</span><span class='hljl-p'>),</span><span class='hljl-t'>
    </span><span class='hljl-p'>(</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-ni'>3</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:tanh</span><span class='hljl-p'>),</span><span class='hljl-t'> 
    </span><span class='hljl-p'>(</span><span class='hljl-ni'>1</span><span class='hljl-p'>,</span><span class='hljl-ni'>2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:σ</span><span class='hljl-p'>)]</span><span class='hljl-t'>

</span><span class='hljl-cs'># Regularization, parameter variance, and total number of</span><span class='hljl-t'>
</span><span class='hljl-cs'># parameters.</span><span class='hljl-t'>
</span><span class='hljl-n'>alpha</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nfB'>0.09</span><span class='hljl-t'>
</span><span class='hljl-n'>sig</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>sqrt</span><span class='hljl-p'>(</span><span class='hljl-nfB'>1.0</span><span class='hljl-t'> </span><span class='hljl-oB'>/</span><span class='hljl-t'> </span><span class='hljl-n'>alpha</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-n'>num_params</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>sum</span><span class='hljl-p'>([</span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>o</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-p'>(</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>o</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>_</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>])</span><span class='hljl-t'>

</span><span class='hljl-cs'># This modification of the unpack function generates a series of vectors</span><span class='hljl-t'>
</span><span class='hljl-cs'># given a network shape.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>unpack</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>index</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-t'>
    </span><span class='hljl-n'>weights</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[]</span><span class='hljl-t'>
    </span><span class='hljl-n'>biases</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[]</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>layer</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-t'>
        </span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>_</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>layer</span><span class='hljl-t'>
        </span><span class='hljl-n'>size</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>rows</span><span class='hljl-t'> </span><span class='hljl-oB'>*</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-t'>
        </span><span class='hljl-n'>last_index_w</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>size</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-n'>index</span><span class='hljl-t'> </span><span class='hljl-oB'>-</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-t'>
        </span><span class='hljl-n'>last_index_b</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>last_index_w</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-n'>rows</span><span class='hljl-t'>
        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>weights</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-p'>[</span><span class='hljl-n'>index</span><span class='hljl-oB'>:</span><span class='hljl-n'>last_index_w</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>rows</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>cols</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>biases</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>reshape</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-p'>[</span><span class='hljl-n'>last_index_w</span><span class='hljl-oB'>+</span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-n'>last_index_b</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>rows</span><span class='hljl-p'>))</span><span class='hljl-t'>
        </span><span class='hljl-n'>index</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>last_index_b</span><span class='hljl-t'> </span><span class='hljl-oB'>+</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-n'>weights</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>biases</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># Generate an abstract neural network given a shape, </span><span class='hljl-t'>
</span><span class='hljl-cs'># and return a prediction.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>θ</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-oB'>::</span><span class='hljl-n'>AbstractVector</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>weights</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>biases</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>unpack</span><span class='hljl-p'>(</span><span class='hljl-n'>θ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-n'>layers</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[]</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-nf'>eachindex</span><span class='hljl-p'>(</span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-nf'>push!</span><span class='hljl-p'>(</span><span class='hljl-n'>layers</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>Dense</span><span class='hljl-p'>(</span><span class='hljl-n'>weights</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>],</span><span class='hljl-t'>
            </span><span class='hljl-n'>biases</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>],</span><span class='hljl-t'>
            </span><span class='hljl-nf'>eval</span><span class='hljl-p'>(</span><span class='hljl-n'>network_shape</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>][</span><span class='hljl-ni'>3</span><span class='hljl-p'>])))</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
    </span><span class='hljl-n'>nn</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>Chain</span><span class='hljl-p'>(</span><span class='hljl-n'>layers</span><span class='hljl-oB'>...</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>return</span><span class='hljl-t'> </span><span class='hljl-nf'>nn</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>)</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># General Turing specification for a BNN model.</span><span class='hljl-t'>
</span><span class='hljl-nd'>@model</span><span class='hljl-t'> </span><span class='hljl-nf'>bayes_nn_general</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>ts</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>num_params</span><span class='hljl-p'>)</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-k'>begin</span><span class='hljl-t'>
    </span><span class='hljl-n'>θ</span><span class='hljl-t'> </span><span class='hljl-oB'>~</span><span class='hljl-t'> </span><span class='hljl-nf'>MvNormal</span><span class='hljl-p'>(</span><span class='hljl-nf'>zeros</span><span class='hljl-p'>(</span><span class='hljl-n'>num_params</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>sig</span><span class='hljl-t'> </span><span class='hljl-oB'>.*</span><span class='hljl-t'> </span><span class='hljl-nf'>ones</span><span class='hljl-p'>(</span><span class='hljl-n'>num_params</span><span class='hljl-p'>))</span><span class='hljl-t'>
    </span><span class='hljl-n'>preds</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>θ</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-nf'>length</span><span class='hljl-p'>(</span><span class='hljl-n'>ts</span><span class='hljl-p'>)</span><span class='hljl-t'>
        </span><span class='hljl-n'>ts</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-oB'>~</span><span class='hljl-t'> </span><span class='hljl-nf'>Bernoulli</span><span class='hljl-p'>(</span><span class='hljl-n'>preds</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>])</span><span class='hljl-t'>
    </span><span class='hljl-k'>end</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-t'>

</span><span class='hljl-cs'># Perform inference.</span><span class='hljl-t'>
</span><span class='hljl-n'>num_samples</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-ni'>500</span><span class='hljl-t'>
</span><span class='hljl-n'>ch2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>sample</span><span class='hljl-p'>(</span><span class='hljl-nf'>bayes_nn_general</span><span class='hljl-p'>(</span><span class='hljl-nf'>hcat</span><span class='hljl-p'>(</span><span class='hljl-n'>xs</span><span class='hljl-oB'>...</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>ts</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>num_params</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-nf'>NUTS</span><span class='hljl-p'>(</span><span class='hljl-nfB'>0.65</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>num_samples</span><span class='hljl-p'>);</span>
</pre>


<pre class="julia-error">
ERROR: MethodError: ReverseDiff.TrackedReal&#123;Float64, Float64, ReverseDiff.TrackedArray&#123;Float64, Float64, 2, Matrix&#123;Float64&#125;, Matrix&#123;Float64&#125;&#125;&#125;&#40;::ForwardDiff.Dual&#123;ForwardDiff.Tag&#123;ReverseDiff.var&quot;#105#107&quot;&#123;DataType, Tuple&#123;&#125;, Val&#123;&#40;1,&#41;&#125;&#125;, Float64&#125;, Float64, 1&#125;&#41; is ambiguous. Candidates:
  &#40;T::Type&#123;var&quot;#s31&quot;&#125; where var&quot;#s31&quot;&lt;:Real&#41;&#40;x::ForwardDiff.Dual&#41; in Tracker at /home/cameron/.julia/packages/Tracker/YNNTM/src/lib/real.jl:111
  ReverseDiff.TrackedReal&#123;V, D, O&#125;&#40;value&#41; where &#123;V, D, O&#125; in ReverseDiff at /home/cameron/.julia/packages/ReverseDiff/iHmB4/src/tracked.jl:56
Possible fix, define
  ReverseDiff.TrackedReal&#123;V, D, O&#125;&#40;::ForwardDiff.Dual&#41; where &#123;V, D, O&#125;
</pre>



<pre class='hljl'>
<span class='hljl-cs'># This function makes predictions based on network shape.</span><span class='hljl-t'>
</span><span class='hljl-k'>function</span><span class='hljl-t'> </span><span class='hljl-nf'>nn_predict</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>num</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)</span><span class='hljl-t'>
    </span><span class='hljl-nf'>mean</span><span class='hljl-p'>([</span><span class='hljl-nf'>nn_forward</span><span class='hljl-p'>(</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>theta</span><span class='hljl-p'>[</span><span class='hljl-n'>i</span><span class='hljl-p'>,</span><span class='hljl-oB'>:</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>i</span><span class='hljl-t'> </span><span class='hljl-kp'>in</span><span class='hljl-t'> </span><span class='hljl-ni'>1</span><span class='hljl-oB'>:</span><span class='hljl-ni'>10</span><span class='hljl-oB'>:</span><span class='hljl-n'>num</span><span class='hljl-p'>])</span><span class='hljl-t'>
</span><span class='hljl-k'>end</span><span class='hljl-p'>;</span><span class='hljl-t'>

</span><span class='hljl-cs'># Extract the θ parameters from the sampled chain.</span><span class='hljl-t'>
</span><span class='hljl-n'>params2</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-n'>MCMCChains</span><span class='hljl-oB'>.</span><span class='hljl-nf'>group</span><span class='hljl-p'>(</span><span class='hljl-n'>ch2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-sc'>:θ</span><span class='hljl-p'>)</span><span class='hljl-oB'>.</span><span class='hljl-n'>value</span><span class='hljl-t'>

</span><span class='hljl-nf'>plot_data</span><span class='hljl-p'>()</span><span class='hljl-t'>

</span><span class='hljl-n'>x_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>y_range</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-nf'>collect</span><span class='hljl-p'>(</span><span class='hljl-nf'>range</span><span class='hljl-p'>(</span><span class='hljl-oB'>-</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>stop</span><span class='hljl-oB'>=</span><span class='hljl-ni'>6</span><span class='hljl-p'>,</span><span class='hljl-n'>length</span><span class='hljl-oB'>=</span><span class='hljl-ni'>25</span><span class='hljl-p'>))</span><span class='hljl-t'>
</span><span class='hljl-n'>Z</span><span class='hljl-t'> </span><span class='hljl-oB'>=</span><span class='hljl-t'> </span><span class='hljl-p'>[</span><span class='hljl-nf'>nn_predict</span><span class='hljl-p'>([</span><span class='hljl-n'>x</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-p'>],</span><span class='hljl-t'> </span><span class='hljl-n'>params2</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-nf'>length</span><span class='hljl-p'>(</span><span class='hljl-n'>ch2</span><span class='hljl-p'>),</span><span class='hljl-t'> </span><span class='hljl-n'>network_shape</span><span class='hljl-p'>)[</span><span class='hljl-ni'>1</span><span class='hljl-p'>]</span><span class='hljl-t'> </span><span class='hljl-k'>for</span><span class='hljl-t'> </span><span class='hljl-n'>x</span><span class='hljl-oB'>=</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y</span><span class='hljl-oB'>=</span><span class='hljl-n'>y_range</span><span class='hljl-p'>]</span><span class='hljl-t'>
</span><span class='hljl-nf'>contour!</span><span class='hljl-p'>(</span><span class='hljl-n'>x_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>y_range</span><span class='hljl-p'>,</span><span class='hljl-t'> </span><span class='hljl-n'>Z</span><span class='hljl-p'>)</span>
</pre>


<pre class="julia-error">
ERROR: UndefVarError: ch2 not defined
</pre>


<p>This has been an introduction to the applications of Turing and Flux in defining Bayesian neural networks.</p>


<div class="markdown"><h2>Appendix</h2>
<p>This tutorial is part of the TuringTutorials repository, found at: <a href="https://github.com/TuringLang/TuringTutorials">https://github.com/TuringLang/TuringTutorials</a>.</p>
</div>
<div class="markdown"><p>To locally run this tutorial, do the following commands:</p>
<pre><code class="language-julia, eval &#61; false">using TuringTutorials
TuringTutorials.weave_file&#40;&quot;03-bayesian-neural-network&quot;, &quot;03_bayesian-neural-network.jmd&quot;&#41;</code></pre>
</div>
<div class="markdown"><p>Computer Information:</p>
</div>
<div class="markdown"><pre><code>Julia Version 1.6.0
Commit f9720dc2eb &#40;2021-03-24 12:55 UTC&#41;
Platform Info:
  OS: Linux &#40;x86_64-pc-linux-gnu&#41;
  CPU: Intel&#40;R&#41; Core&#40;TM&#41; i9-9900K CPU @ 3.60GHz
  WORD_SIZE: 64
  LIBM: libopenlibm
  LLVM: libLLVM-11.0.1 &#40;ORCJIT, skylake&#41;
Environment:
  JULIA_CMDSTAN_HOME &#61; /home/cameron/stan/
  JULIA_NUM_THREADS &#61; 16
</code></pre>
</div>
<div class="markdown"><p>Package Information:</p>
</div>
<div class="markdown"><pre><code>      Status &#96;~/.julia/dev/TuringTutorials/tutorials/03-bayesian-neural-network/Project.toml&#96;
  &#91;b5ca4192&#93; AdvancedVI v0.1.1
  &#91;76274a88&#93; Bijectors v0.8.13
  &#91;587475ba&#93; Flux v0.12.0
  &#91;91a5bcdd&#93; Plots v1.11.1
  &#91;37e2e3b7&#93; ReverseDiff v1.7.0
  &#91;fce5fe82&#93; Turing v0.15.1
  &#91;9a3f8284&#93; Random
</code></pre>
</div>


        <HR/>
        <div class="footer">
          <p>
            Published from <a href="03_bayesian-neural-network.jmd">03_bayesian-neural-network.jmd</a>
            using <a href="http://github.com/JunoLab/Weave.jl">Weave.jl</a> v0.10.7 on 2021-04-05.
          </p>
        </div>
      </div>
    </div>
  </div>
</BODY>

</HTML>
